"0","# Filter for vulnerable tracts based on your criteria"
"0","income_threshold <- quantile(census_tracts_demo$median_income, 0.25, na.rm = TRUE)"
"0","elderly_threshold <- quantile("
"0","  (census_tracts_demo$pop_65_over / census_tracts_demo$total_pop), "
"0","  0.75, "
"0","  na.rm = TRUE"
"0",")"
"0",""
"0","cat(""Low-income threshold:"", scales::dollar(income_threshold), ""\n"")"
"1","Low-income threshold:"
"1"," "
"1","$55,923.50"
"1"," "
"1","
"
"0","cat(""High-elderly threshold (share of 65+):"", scales::percent(elderly_threshold), ""\n"")"
"1","High-elderly threshold (share of 65+):"
"1"," "
"1","23%"
"1"," "
"1","
"
"0","census_tracts_demo <- census_tracts_demo %>%"
"0","  mutate("
"0","    elderly_share = pop_65_over / total_pop"
"0","  )"
"0",""
"0","vulnerable_tracts <- census_tracts_demo %>%"
"0","  filter("
"0","    median_income <= income_threshold &"
"0","    elderly_share >= elderly_threshold"
"0","  )"
"0","cat(""Number of vulnerable tracts identified:"", nrow(vulnerable_tracts), ""\n"")"
"1","Number of vulnerable tracts identified:"
"1"," "
"1","165"
"1"," "
"1","
"
"0","total_tracts <- nrow(census_tracts_demo)"
"0","vulnerable_count <- nrow(vulnerable_tracts)"
"0","vulnerable_pct <- (vulnerable_count / total_tracts) * 100"
"0","cat(""Percentage of PA census tracts considered vulnerable:"", round(vulnerable_pct, 1), ""%\n"")"
"1","Percentage of PA census tracts considered vulnerable:"
"1"," "
"1","4.8"
"1"," "
"1","%
"
